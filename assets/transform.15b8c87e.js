import{isNumber as e,isArray as r,isObject as t,isString as o}from"./utils.c9a3879e.js";import{g as i,h as p}from"./vendor.0f0cb071.js";const d=e=>e.indexOf("|")>-1,n=()=>{const e=`${i(10,30)}${i(10,50)}00${i(10,99)}`;return Number(e)},s=n(),u=({id:e,scope:r,type:t,name:o,rule:i,value:p,desc:d="",pid:n,priority:u=1})=>({id:e,scope:r,type:t,pos:2,name:o,rule:i,value:p,description:d,parentId:n,priority:u,required:!1,creatorId:161514,moduleId:482600,repositoryId:292320,interfaceId:s}),a=o=>e(o)?"Number":r(o)?"Array":t(o)?"Object":"String",c=(t,i)=>{const p=[];return Object.entries(t).map((([t,d])=>{if(null!==d){const s=r(d)?`@order(${d.map((r=>o(r)?`'${r}'`:e(r)?r:void 0))})`:d,c=a(d[0]),m={id:n(),type:c,name:t,rule:"",pid:i,scope:"response",value:s};p.push(u(m))}})),p},m=(e,o)=>{const i=[];return Object.entries(e).map((([e,s])=>{const m={id:n(),type:a(s),name:e,rule:"",pid:o,scope:"response",value:s};if(r(s)){((e,t,o)=>{if(r(e)){if(d(o))return c(e[0],t);{const r=p(e,((e,r,t)=>(Object.entries(r).map((([r,t])=>{null!==t?e[r]?e[r].push(t):e[r]=[t]:e[r]=null})),e)),{});return c(r,t)}}return e})(s,m.id,e).map((e=>{i.push(e)})),s.length&&!d(e)&&(m.name=`${m.name}|${s.length}`),m.type="Array",m.value=""}else if(t(s)){((e,r,o)=>{if(t(e))return c(e,r);return e})(s,m.id).map((e=>{i.push(e)})),m.type="Object",m.value=""}i.push(u(m))})),i},l=(e,r)=>{let t=[];return Object.entries(r).map((([e,r])=>{if(e){const o=a(r),i=u({id:n(),type:o,name:e,rule:"",pid:-1,scope:"request",value:r});t.push(i)}})),t=t.concat(m(e,-1)),t},y=(e,r,t,o)=>({itf:(({name:e,url:r,method:t,bodyOption:o="FORM_DATA",description:i="",creatorId:p,moduleId:d,repositoryId:n})=>({id:s,name:e,url:r,method:t,bodyOption:o,description:i,priority:1,status:200,creatorId:p,moduleId:d,repositoryId:n}))({name:t.name,url:t.url,method:t.method,bodyOption:t.bodyOption,description:t.desc,creatorId:o.creatorId,moduleId:o.moduleId,repositoryId:o.repositoryId}),properties:l(r,e)});export{l as _transProperties,y as transformMock};
