import{isNumber as e,isArray as r,isObject as t,isString as i}from"./utils.c9a3879e.js";import{g as n,h as o}from"./vendor.f970bdb6.js";const p=e=>e.indexOf("|")>-1,s=()=>{const e=`${n(10,30)}${n(10,50)}00${n(10,99)}`;return Number(e)},d=s(),u=({id:e,scope:r,type:t,name:i,rule:n,value:o,desc:p="",pid:s,priority:u=1})=>({id:e,scope:r,type:t,pos:2,name:i,rule:n,value:o,description:p,parentId:s,priority:u,required:!1,creatorId:161514,moduleId:482600,repositoryId:292320,interfaceId:d}),a=i=>e(i)?"Number":r(i)?"Array":t(i)?"Object":"String",c=(t,n)=>{const o=[];return Object.entries(t).map((([t,p])=>{if(null!==p){const d=r(p)?`@order(${p.map((r=>i(r)?`'${r}'`:e(r)?r:void 0))})`:p,c=a(p[0]),m={id:s(),type:c,name:t,rule:"",pid:n,scope:"response",value:d};o.push(u(m))}})),o},m=(e,i)=>{const n=[];return Object.entries(e).map((([e,d])=>{const m={id:s(),type:a(d),name:e,rule:"",pid:i,scope:"response",value:d};if(r(d)){((e,t,i)=>{if(r(e)){if(p(i))return c(e[0],t);{const r=o(e,((e,r,t)=>(Object.entries(r).map((([r,t])=>{null!==t?e[r]?e[r].push(t):e[r]=[t]:e[r]=null})),e)),{});return c(r,t)}}return e})(d,m.id,e).map((e=>{n.push(e)})),d.length&&!p(e)&&(m.name=`${m.name}|${d.length}`),m.type="Array",m.value=""}else if(t(d)){((e,r,i)=>{if(t(e))return c(e,r);return e})(d,m.id).map((e=>{n.push(e)})),m.type="Object",m.value=""}n.push(u(m))})),n},l=(e,r)=>{let t=[];return Object.entries(r).map((([e,r])=>{if(e){const i=a(r),n=u({id:s(),type:i,name:e,rule:"",pid:-1,scope:"request",value:r});t.push(n)}})),t=t.concat(m(e,-1)),t},y=(e,r,t)=>({itf:(({name:e,url:r,method:t,bodyOption:i="FORM_DATA",description:n=""})=>({id:d,name:e,url:r,method:t,bodyOption:i,description:n,priority:1,status:200,creatorId:161514,moduleId:482600,repositoryId:292320}))({name:t.name,url:t.url,method:t.method,bodyOption:t.bodyOption,description:t.desc}),properties:l(r,e)});export{l as _transProperties,y as transformMock};
