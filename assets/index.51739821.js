import{d as e,i as o,j as n,l as t,m as r,a}from"./vendor.7f3024dd.js";var d=e({props:{modelValue:[String,Boolean,Object,Array],showBtns:[Boolean],expandedOnStart:{type:Boolean,default:!1},mode:{type:String,default:"tree"},modes:{type:Array,default:function(){return["tree","code","form","text","view"]}},lang:{type:String,default:"en"}},setup(e,{emit:d}){var s;const i=null==(s=o())?void 0:s.root.proxy,l=n({editor:null,error:!1,json:{},internalChange:!1,expandedModes:["tree","view","form"],locale:{it:{save:"SALVA"},en:{save:"SAVE"},zh:{save:"保存"}}});function u(){e.expandedOnStart&&l.expandedModes.includes(l.editor.getMode())&&l.editor.expandAll()}return t((()=>e.modelValue),(async e=>{var o;l.internalChange||(l.json=e,await(o=e,void(l.editor&&l.editor.set(o))),l.error=!1,u())}),{immediate:!0}),r((()=>{const o={mode:e.mode,modes:e.modes,onChange(){try{const e=l.editor.get();l.json=e,l.error=!1,d("json-change",e),l.internalChange=!0,d("input",e),i.$nextTick((function(){l.internalChange=!1}))}catch(e){l.error=!0,d("has-error",e)}},onModeChange(){u()}};l.editor=new window.JSONEditor(document.querySelector(".jsoneditor-vue"),o,l.json)})),()=>a("div",null,[a("div",{class:"jsoneditor-vue"},null),!1!==e.showBtns&&a("div",{class:"jsoneditor-btns"},[a("button",{class:"json-save-btn",type:"button",onClick:()=>{d("json-save",l.json)},disabled:l.error},[l.locale[e.lang].save])])])}});d.__scopeId="data-v-12e96766";export default d;
