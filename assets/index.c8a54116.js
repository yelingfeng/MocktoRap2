var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,o,t)=>o in e?__defProp(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,__spreadValues=(e,o)=>{for(var t in o||(o={}))__hasOwnProp.call(o,t)&&__defNormalProp(e,t,o[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(o))__propIsEnum.call(o,t)&&__defNormalProp(e,t,o[t]);return e};import{transformMock}from"./transform.15b8c87e.js";import _sfc_main$1 from"./index.53ee3b8b.js";import{d as defineComponent,o as openBlock,c as createBlock,a as createVNode,s as ref,u as useMessage,j as reactive,m as onMounted,v as toRefs,x as isString,y as cloneDeep,r as resolveComponent,w as withCtx,z as createTextVNode}from"./vendor.0f0cb071.js";const _hoisted_1$1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_hoisted_2$1=createVNode("path",{d:"M328.85 156.79a26.69 26.69 0 1 0 18.88 7.81a26.6 26.6 0 0 0-18.88-7.81z",fill:"currentColor"},null,-1),_hoisted_3$1=createVNode("path",{d:"M477.44 50.06a.29.29 0 0 1 0-.09a20.4 20.4 0 0 0-15.13-15.3c-29.8-7.27-76.68.48-128.63 21.28c-52.36 21-101.42 52-134.58 85.22A320.7 320.7 0 0 0 169.55 175c-22.33-1-42 2.18-58.57 9.41c-57.74 25.41-74.23 90.44-78.62 117.14a25 25 0 0 0 27.19 29h.13l64.32-7.02c.08.82.17 1.57.24 2.26a34.36 34.36 0 0 0 9.9 20.72l31.39 31.41a34.27 34.27 0 0 0 20.71 9.91l2.15.23l-7 64.24v.13A25 25 0 0 0 206 480a25.25 25.25 0 0 0 4.15-.34C237 475.34 302 459.05 327.34 401c7.17-16.46 10.34-36.05 9.45-58.34a314.78 314.78 0 0 0 33.95-29.55c33.43-33.26 64.53-81.92 85.31-133.52c20.69-51.36 28.48-98.59 21.39-129.53zM370.38 224.94a58.77 58.77 0 1 1 0-83.07a58.3 58.3 0 0 1 0 83.07z",fill:"currentColor"},null,-1),_hoisted_4$1=createVNode("path",{d:"M161.93 386.44a16 16 0 0 0-11 2.67c-6.39 4.37-12.81 8.69-19.29 12.9c-13.11 8.52-28.79-6.44-21-20l12.15-21a16 16 0 0 0-15.16-24.91A61.25 61.25 0 0 0 72 353.56c-3.66 3.67-14.79 14.81-20.78 57.26A357.94 357.94 0 0 0 48 447.59A16 16 0 0 0 64 464h.4a359.87 359.87 0 0 0 36.8-3.2c42.47-6 53.61-17.14 57.27-20.8a60.49 60.49 0 0 0 17.39-35.74a16 16 0 0 0-13.93-17.82z",fill:"currentColor"},null,-1);var Rocket=defineComponent({name:"Rocket",render:function(e,o){return openBlock(),createBlock("svg",_hoisted_1$1,[_hoisted_2$1,_hoisted_3$1,_hoisted_4$1])}}),_sfc_main=defineComponent({name:"MockRap",components:{Vue3JsonEditor:_sfc_main$1,Rocket:Rocket},props:{resp:{type:Object,default:()=>({})},req:{type:Object,default:()=>({})}},setup(props){const reqData=ref(props.req),respData=ref(props.resp),transData=ref({}),jsonData=ref(""),formRef=ref(null),formRefBase=ref(null),formValueBase=ref({repositoryId:"292320",creatorId:"161514",moduleId:"482600"}),message=useMessage(),edtorProps=reactive({jsonResp:{},jsonReq:"",showBtn:!1,mode:"text"}),onJsonReqChange=e=>{edtorProps.jsonReq=e},onJsonRespChange=e=>{edtorProps.jsonResp=e};onMounted((()=>{edtorProps.jsonReq=JSON.stringify(reqData.value),edtorProps.jsonResp=respData.value}));const options=[{label:"POST",value:"POST"},{label:"GET",value:"GET"},{label:"DELETE",value:"DELETE"},{label:"PUT",value:"PUT"},{label:"OPTIONS",value:"OPTIONS"},{label:"PATCH",value:"PATCH"}],intefaceForm=ref({name:"",url:"",method:"GET",bodyOption:"",desc:""}),rules={name:{required:!0,message:"请输入接口名",trigger:"blur"},url:{required:!0,message:"请输入接口URL",trigger:["input","blur"]},method:{required:!0,message:"请输入接口method",trigger:["input"]}},transClick=()=>{formRef.value.validate((errors=>{if(errors)console.log(errors),message.error("先输入接口信息");else{let reqJson,respJson;if(edtorProps.jsonResp&&isString(edtorProps.jsonResp))try{respJson=eval("("+edtorProps.jsonResp+")")}catch(e){console.log(e),message.error("格式不正确")}else respJson=edtorProps.jsonResp;if(edtorProps.jsonReq&&isString(edtorProps.jsonReq))try{reqJson=eval("("+edtorProps.jsonReq+")")}catch(e){console.log(e),message.error("格式不正确")}else reqJson=edtorProps.jsonReq;transData.value=transformMock(cloneDeep(reqJson),cloneDeep(respJson),intefaceForm.value,formValueBase.value)}}))};return __spreadValues({formRef:formRef,formRefBase:formRefBase,formValueBase:formValueBase,rules:rules,options:options,jsonData:jsonData,transClick:transClick,transData:transData,intefaceForm:intefaceForm,onJsonReqChange:onJsonReqChange,onJsonRespChange:onJsonRespChange},toRefs(edtorProps))}}),index_vue_vue_type_style_index_0_lang="\n.box {\n  width: 100%;\n  height: 100%;\n  text-align: left;\n}\n.toptip {\n  padding: 0 20px 0 20px;\n}\n.box-left,\n.box-center,\n.box-right {\n  padding: 20px;\n}\n.divider {\n  margin-top: 10px;\n}\n.ace-jsoneditor.ace_editor {\n  height: 300px;\n}\ntextarea.jsoneditor-text {\n  height: 300px;\n}\n";const _hoisted_1={class:"box"},_hoisted_2={class:"toptip"},_hoisted_3=createTextVNode(" 1.先输入RAP模块id和工程id(创建模块url就有) 2.再输入接口相关信息 3.编辑请求和返回json 4 .点击转换完成 "),_hoisted_4={class:"box-left"},_hoisted_5=createVNode("div",{class:"divider"},null,-1),_hoisted_6={style:{display:"flex","justify-content":"center"}},_hoisted_7=createTextVNode(" 转换"),_hoisted_8={class:"box-center"},_hoisted_9=createTextVNode("Request"),_hoisted_10=createTextVNode("Response"),_hoisted_11={class:"box-right"};function _sfc_render(e,o,t,a,r,n){const s=resolveComponent("n-text"),l=resolveComponent("n-blockquote"),d=resolveComponent("n-grid-item"),i=resolveComponent("n-grid"),c=resolveComponent("n-input"),p=resolveComponent("n-form-item"),u=resolveComponent("n-form"),_=resolveComponent("n-card"),f=resolveComponent("n-select"),m=resolveComponent("Rocket"),h=resolveComponent("n-icon"),v=resolveComponent("n-button"),x=resolveComponent("n-divider"),V=resolveComponent("Vue3JsonEditor"),C=resolveComponent("json-viewer");return openBlock(),createBlock("div",_hoisted_1,[createVNode(i,{cols:24,"x-gap":2,responsive:"screen"},{default:withCtx((()=>[createVNode(d,{span:24},{default:withCtx((()=>[createVNode("div",_hoisted_2,[createVNode(l,null,{default:withCtx((()=>[createVNode(s,{type:"success"},{default:withCtx((()=>[_hoisted_3])),_:1})])),_:1})])])),_:1})])),_:1}),createVNode(i,{cols:24,"x-gap":2,responsive:"screen"},{default:withCtx((()=>[createVNode(d,{span:8},{default:withCtx((()=>[createVNode("div",_hoisted_4,[createVNode(_,{title:"RAP模块参数"},{default:withCtx((()=>[createVNode(u,{ref:"formRefBase",inline:"","label-width":80,model:e.formValueBase},{default:withCtx((()=>[createVNode(p,{label:"工程ID"},{default:withCtx((()=>[createVNode(c,{value:e.formValueBase.repositoryId,"onUpdate:value":o[1]||(o[1]=o=>e.formValueBase.repositoryId=o),maxlength:"6",placeholder:"6位数字"},null,8,["value"])])),_:1}),createVNode(p,{label:"模块id"},{default:withCtx((()=>[createVNode(c,{value:e.formValueBase.moduleId,"onUpdate:value":o[2]||(o[2]=o=>e.formValueBase.moduleId=o),maxlength:"6",placeholder:"6位数字"},null,8,["value"])])),_:1}),createVNode(p,{label:"创建者ID"},{default:withCtx((()=>[createVNode(c,{value:e.formValueBase.creatorId,"onUpdate:value":o[3]||(o[3]=o=>e.formValueBase.creatorId=o),maxlength:"6",placeholder:"6位数字"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),_hoisted_5,createVNode(_,{title:"RAP接口相关参数"},{default:withCtx((()=>[createVNode(u,{ref:"formRef","label-width":100,model:e.intefaceForm,rules:e.rules,size:"medium"},{default:withCtx((()=>[createVNode(p,{label:"接口名称",path:"name"},{default:withCtx((()=>[createVNode(c,{value:e.intefaceForm.name,"onUpdate:value":o[4]||(o[4]=o=>e.intefaceForm.name=o),placeholder:"请输入接口名称"},null,8,["value"])])),_:1}),createVNode(p,{label:"接口URL",path:"url"},{default:withCtx((()=>[createVNode(c,{value:e.intefaceForm.url,"onUpdate:value":o[5]||(o[5]=o=>e.intefaceForm.url=o),placeholder:"请输入URL"},null,8,["value"])])),_:1}),createVNode(p,{label:"接口类型",path:"method"},{default:withCtx((()=>[createVNode(f,{value:e.intefaceForm.method,"onUpdate:value":o[6]||(o[6]=o=>e.intefaceForm.method=o),options:e.options},null,8,["value","options"])])),_:1}),createVNode(p,{label:"接口BodyOption",path:"bodyOption"},{default:withCtx((()=>[createVNode(c,{value:e.intefaceForm.bodyOption,"onUpdate:value":o[7]||(o[7]=o=>e.intefaceForm.bodyOption=o),placeholder:"请输入接口BodyOption"},null,8,["value"])])),_:1}),createVNode(p,{label:"接口备注",path:"desc"},{default:withCtx((()=>[createVNode(c,{value:e.intefaceForm.desc,"onUpdate:value":o[8]||(o[8]=o=>e.intefaceForm.desc=o),placeholder:"备注信息"},null,8,["value"])])),_:1})])),_:1},8,["model","rules"]),createVNode("div",_hoisted_6,[createVNode(v,{type:"success",size:"large",onClick:e.transClick},{icon:withCtx((()=>[createVNode(h,null,{default:withCtx((()=>[createVNode(m)])),_:1})])),default:withCtx((()=>[_hoisted_7])),_:1},8,["onClick"])])])),_:1})])])),_:1}),createVNode(d,{span:8},{default:withCtx((()=>[createVNode("div",_hoisted_8,[createVNode(_,{"content-style":"min-height: 400px;"},{default:withCtx((()=>[createVNode(x,{"title-placement":"left"},{default:withCtx((()=>[_hoisted_9])),_:1}),createVNode(c,{value:e.jsonReq,"onUpdate:value":o[9]||(o[9]=o=>e.jsonReq=o),type:"textarea",rows:10,placeholder:""},null,8,["value"]),createVNode(x,{"title-placement":"left"},{default:withCtx((()=>[_hoisted_10])),_:1}),createVNode(V,{modelValue:e.jsonResp,"onUpdate:modelValue":o[10]||(o[10]=o=>e.jsonResp=o),"show-btns":e.showBtn,mode:e.mode,lang:"zh",onJsonChange:e.onJsonRespChange},null,8,["modelValue","show-btns","mode","onJsonChange"])])),_:1})])])),_:1}),createVNode(d,{span:8},{default:withCtx((()=>[createVNode("div",_hoisted_11,[createVNode(_,{title:"Rap2Json","content-style":"min-height: 400px;height:400px;"},{default:withCtx((()=>[createVNode(C,{value:e.transData,"expand-depth":3,copyable:"",sort:""},null,8,["value"])])),_:1})])])),_:1})])),_:1})])}_sfc_main.render=_sfc_render;export{_sfc_main as _};
